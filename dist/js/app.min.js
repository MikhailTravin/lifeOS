(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);let t=document.querySelector('input[type="file"]');if(t){const o=document.querySelector(".comments__previews"),a=[];function l(){const e=t.files[0];if(e){const t=document.createElement("div");t.classList.add("comments__preview");const n=document.createElement("span");n.textContent=e.name,n.classList.add("file-name");const s=document.createElement("div");s.classList.add("comments__preview-close");const c={name:e.name,modified:e.lastModified,size:e.size};a.push(c),s.addEventListener("click",(()=>{a.splice(a.indexOf(c),1),t.classList.add("removing"),setTimeout((()=>t.remove()),100)})),t.appendChild(s),t.appendChild(n),o.appendChild(t)}t.value="";const n=t.cloneNode(!0);t.replaceWith(n),t=n,t.addEventListener("change",l)}t.addEventListener("change",l)}const n=document.querySelector(".comments__inputs textarea");function s(){return window.innerWidth<=768?28:39}function c(){const e=s();n.style.height="1px";const t=n.scrollHeight;let c;c=n.value.trim()?t<=e?e:Math.min(t,170):e,n.style.height=`${c}px`,n.style.overflowY=t>170?"auto":"hidden"}function i(){const e=s();n.style.height=`${e}px`,n.style.overflowY="hidden"}i(),n.addEventListener("input",c),window.addEventListener("resize",(function(){n.value.trim()?c():i()}));document.querySelectorAll(".comments__button").forEach((e=>{e.addEventListener("click",(function(){this.closest(".comments__item").parentElement.classList.toggle("_active")}))})),document.addEventListener("click",(function(e){if(e.target.closest(".comments__like")){const t=e.target.closest(".comments__like"),n=(t.querySelector(".like-active"),t.querySelector("span"));if(t.classList.contains("active"))t.classList.remove("active"),n.textContent=parseInt(n.textContent)-1;else{t.classList.add("active"),n.textContent=parseInt(n.textContent)+1;const e=t.closest(".comments__item, .comments__subitem");if(e){const t=e.querySelector(".comments__nolike");if(t.classList.contains("active")){t.classList.remove("active");const e=t.querySelector("span");e.textContent=parseInt(e.textContent)-1}}}}if(e.target.closest(".comments__nolike")){const t=e.target.closest(".comments__nolike"),n=(t.querySelector(".nolike-active"),t.querySelector("span"));if(t.classList.contains("active"))t.classList.remove("active"),n.textContent=parseInt(n.textContent)-1;else{t.classList.add("active"),n.textContent=parseInt(n.textContent)+1;const e=t.closest(".comments__item, .comments__subitem");if(e){const t=e.querySelector(".comments__like");if(t.classList.contains("active")){t.classList.remove("active");const e=t.querySelector("span");e.textContent=parseInt(e.textContent)-1}}}}})),window.FLS=!1})();